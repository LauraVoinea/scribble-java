module assrt.icse18.Fib;


type <dotnet> "System.UInt32" from "..." as int;


global protocol Proto1(role C, role S) @"(x := 0, y := 1)"
{
	choice at C
	{
		Val(x1:int) from C to S;  @"(x1 = x)"
		Add(y1:int) from C to S;  @"(y1 = y)"
		Sum(z:int) from S to C;   @"(z  = (x1+y1))"
		do Proto1(C, S);          @"(x1, y1)"
	}
	or
	{
		Bye() from C to S;
	}
}
