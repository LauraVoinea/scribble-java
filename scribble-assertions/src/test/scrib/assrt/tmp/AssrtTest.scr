//Raymond@HZHL3 ~/code/eclipse/scribble/github.com/rumineykova/scribble-java
//$ bin/scribblec-assrt.sh -ip scribble-assertions/src/test/scrib/ -d scribble-assertions/src/test/scrib/ scribble-assertions/src/test/scrib/assrt/tmp/AssrtTest.scr 


//http://sandbox.kidstrythisathome.com/erdos/


module assrt.tmp.AssrtTest;


type <java> "java.lang.Integer" from "rt.jar" as Int;
type <java> "java.lang.String" from "rt.jar" as Str;


// FIXME: debug printing for assertion passes


//*
global protocol Proto1(role A, role B)
{
	1() from A to B;	@ (True && ((x+1) > 1)) ;
	
}

//*/

/*
global protocol Proto1(role A, role B, role C)
{
	choice at A
	{	
		1(Int) from A to B;
		4(Int) from A to C;
	}
	or
	{
		2(Int) from A to B;
		3(Int) from A to C;
	}
}
//*/


/*
global protocol Proto1(role A, role B)
{
	choice at A
	{	
		1(Int) from A to B;
		choice at A
		{
			2(Int) from A to B;
			do Proto1(A, B);
		}
		or
		{
			3(Int) from A to B;
		}
	
	}
	or
	{
		2(Int) from A to B;
	}
}
//*/







/*
global protocol Proto1(role A, role B)
{
	choice at A
	{
		1(x:Int) from A to B;
	}
	or
	{
		2(y:Int) from A to B;
	}
	2(z:Int) from A to B; 
	//2(y:Int) from A to B;  // Uncomment is bad
}
//*/


/*
global protocol Proto1(role A, role B, role C, role D)
{
	1(x:Int) from A to B;
	2(x:Int) from C to D;
}
//*/


/*
global protocol Proto1(role A, role B)
{
	1(x:Int) from A to B;
	2(x:Int) from B to A;
}
//*/


/*
global protocol Proto1(role A, role B)
{
	1(x:Int) from A to B;
	2(x:Int) from A to B;
}
//*/


//---


/*
global protocol Proto1(role A, role B)
{
	(y:Int) from A to C;
	(x:Int) from A to B;
	[x=y]
	(x) from A to B;
	[x=y]
	(x) from A to B;

	(x:Int) from A to B;
	(x) from A to B;

	(x:Int) from A to B;
	(x) from B to A;
}
//*/


/*
global protocol Proto1(role A, role B, role C)
{
	/*rec X
	{* /
		choice at A
		{
			1(y:Int) from A to B;
			1(x:Int) from B to C;
			//continue X;
		}
		or
		{
			2(y:Int) from A to B;
			2(Int) from B to C;
			2(x:Int) from B to A;
		}
	//}
	[z=x]
	3(z:Int) from B to A;  // In one case A knows x already, the other not
}
//*/


/*
global protocol Proto1(role A, role B, role C)
{
	choice at A
	{
		1(y:Int) from A to B;
		1(x:Int) from B to C;
		//continue X;
	}
	or
	{
		2(x:Int) from A to B;
		2(Int) from B to C;
	}
	3(x) from B to C;  // CHECKME: One case B knows as receiver, the other as sender
}
//*/


/*
global protocol Proto1(role A, role B, role C)
{
	rec X
	{
		choice at A
		{
			1(y:Int) from A to B;
			1(x:Int) from B to C;
			continue X;
		}
		or
		{
			2(y:Int) from A to B;
			2(x:Int) from B to C;
		}
	}
	3(x) from B to C;
}
//*/


/*
global protocol Proto1(role A, role B, role C)
{
	rec X
	{
		choice at A
		{
			1(y:Int) from A to B;
			1(x:Int) from B to C;
			//continue X;
		}
		or
		{
			2(y:Int) from A to B;
			2(x:Int) from B to C;
		}
	}
	3(x) from B to C;
}
//*/


/*
global protocol Proto1(role A, role B, role C)
{
		choice at A
		{
			1(y:Int) from A to B;
			1(x:Int) from B to C;
		}
		or
		{
			2(y:Int) from A to B;
			2(x:Int) from B to C;
		}
	3(x) from B to C;
}
//*/


/*
global protocol Proto1(role A, role B, role C)
{
	choice at A
	{
		1(y:Int) from A to B;
		1(x:Int) from B to C;
		//continue X;
	}
	or
	{
		2(y:Int) from A to B;
		2(z:Int) from B to C;
	}
	3(y) from A to B;
	//3(x) from A to B;  // Uncomment is bad
}
//*/


/*
global protocol Proto1(role A, role B, role C)
{
	choice at A
	{
		1(y:Int) from A to B;
		1(x:Int) from B to C;
	}
	3(y) from A to B;
}
//*/


/*
global protocol Proto1(role A, role B)
{
	rec X
	{
		1(x:Int) from A to B;
	}
	2(x) from B to A;
}
//*/


/*
global protocol Proto1(role A, role B)
{
	choice at A
	{
		1(x:Int) from A to B;
	}
	or
	{
		2(y:Int) from A to B;
	}
	3(y) from B to A;
}
//*/


/*
global protocol Proto1(role A, role B)
{
	1(x:Int) from A to B;
	2(x) from B to A;
}
//*/


/*
global protocol Proto1(role A, role B)
{
	1(x:Int) from A to B;
	2(x) from A to B;

}
//*/